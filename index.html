<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>For You ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
* { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  overflow: hidden;
}

.card {
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 30px;
  max-width: 420px;
  width: 100%;
  text-align: center;
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
  max-height: 90vh;
  overflow-y: auto;
}

.card::-webkit-scrollbar {
  width: 6px;
}
.card::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.4);
  border-radius: 10px;
}

h1, h2 { margin-bottom: 10px; }
p { opacity: 0.95; }

input {
  padding: 12px;
  width: 100%;
  border-radius: 10px;
  border: none;
  margin-top: 10px;
  font-size: 16px;
}

button {
  margin-top: 15px;
  padding: 12px 20px;
  border-radius: 12px;
  border: none;
  background: #ff4d6d;
  color: #fff;
  font-size: 16px;
  cursor: pointer;
  transition: transform 0.2s, background 0.2s, opacity 0.5s;
}

button:hover { transform: scale(1.05); background: #ff335c; }

.hint { font-size: 14px; margin-top: 8px; opacity: 0.85; }
.hidden { display: none; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* TIC TAC TOE BOARD */
.board {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 20px;
}

.cell {
  background: rgba(255,255,255,0.25);
  height: 90px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 36px;
  border-radius: 15px;
  cursor: pointer;
  transition: background 0.2s;
}

.cell:hover { background: rgba(255,255,255,0.35); }

/* Falling hearts & roses */
.fall {
  position: fixed;
  top: -40px;
  font-size: 24px;
  animation: fall linear forwards;
  z-index: 999;
}

@keyframes fall {
  to {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}

/* Firework text */
#loveText {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  font-size: 64px;
  font-weight: bold;
  color: white;
  text-align: center;
  text-shadow:
    0 0 10px #ff4d6d,
    0 0 30px #ff85a1,
    0 0 60px #ffd1dc;
  animation: boom 1.8s ease forwards;
  z-index: 1000;
}
@keyframes boom {
  0% { transform: translate(-50%, -50%) scale(0); opacity:0; }
  60% { transform: translate(-50%, -50%) scale(1.3); opacity:1; }
  100% { transform: translate(-50%, -50%) scale(1); }
}

/* Button initially hidden for scroll reveal */
#finalBtn {
  opacity: 0;
}
</style>
</head>
<body>

<!-- LOGIN PAGE -->
<div class="card" id="login">
  <h1>‚ù§Ô∏è A Little Secret ‚ù§Ô∏è</h1>
  <p>Only one person in this world knows the password.</p>
  <input type="password" id="password" placeholder="Enter the password" />
  <button onclick="checkPassword()">Unlock</button>
  <div class="hint">
    Hint: Your mom, bro & sis tease you with this word ‚Äî write it without spaces üíï
  </div>
</div>

<!-- GAME PAGE -->
<div class="card hidden" id="game">
  <h2>Beat Me If You Can üòè</h2>
  <p>Win this game to unlock what I truly want to say.</p>
  <div class="board" id="board"></div>
  <p id="gameStatus"></p>
  <button id="retryBtn" class="hidden" onclick="startGame()">Try Again üîÅ</button>
</div>

<!-- FINAL PAGE -->
<div class="card hidden" id="final">
  <h1>For You ‚ù§Ô∏è</h1>

  <p style="font-size:16px; line-height:1.8; text-align:left;">
From the moment you walked into my life, something quietly changed.<br><br> 
From the moment you shared your smile,<br>
From the moment you chose to walk beside me,<br>
I found myself slowly losing pieces of who I was. only to find something better in you.<br><br>
I have drowned in your love, and every bit of it is real and true.<br>
I am writing this because I truly, deeply, and insanely appreciate you, your love, your care, and your presence in my life.<br><br>
I am grateful that you stand with me,<br>
sharing your ups and downs,<br>
your miseries and your joys,<br>
and every ordinary moment that becomes special just because it is with you.<br>
Or, In presence of you.<br><br>
And from the way I see the world honestly and unapologetically you are the prettiest woman I have ever seen, the prettiest I will ever see, and the only one I ever want to see.<br><br>
Thank you for existing.<br>
Thank you for your love.<br>
Thank you for your time.<br>
In my once melody-less life, thank you for adding the rhymes.<br><br>
I will say this again and a million times more I truly love you, my dear divine.
  </p>

  <p><strong>And if this made you smile‚Ä¶ then it was all worth it. üíñ</strong></p>

  <button id="finalBtn" onclick="celebrateLove()">Click Me üíò</button>
</div>

<!-- Firework Canvas -->
<canvas id="fireworkCanvas" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000;"></canvas>

<script>
/* PASSWORD */
const SECRET = "iseelol";
const login = document.getElementById("login");
const game = document.getElementById("game");
const final = document.getElementById("final");
const gameStatus = document.getElementById("gameStatus");
const retryBtn = document.getElementById("retryBtn");
const finalBtn = document.getElementById("finalBtn");

function checkPassword() {
  const val = document.getElementById("password").value;
  if (val.toLowerCase() === SECRET.toLowerCase()) {
    login.classList.add("hidden");
    game.classList.remove("hidden");
    startGame();
  } else {
    alert("Not quite‚Ä¶ try again ‚ù§Ô∏è");
  }
}

/* TIC TAC TOE */
let board;
const human = "X";
const ai = "O";

function startGame() {
  board = Array(9).fill(null);
  const boardDiv = document.getElementById("board");
  boardDiv.innerHTML = "";
  board.forEach((_, i) => {
    const cell = document.createElement("div");
    cell.className = "cell";
    cell.onclick = () => humanMove(i);
    boardDiv.appendChild(cell);
  });
  gameStatus.textContent = "Your move ‚ù§Ô∏è";
  retryBtn.classList.add("hidden");
}

function humanMove(i) {
  if (board[i] || checkWinner(board)) return;
  board[i] = human;
  render();
  if (!checkWinner(board)) aiMove();
}

function aiMove() {
  const avail = board.map((v,i)=>v?null:i).filter(v=>v!==null);
  if (Math.random() < 0.25) {
    board[avail[Math.floor(Math.random()*avail.length)]] = ai;
    render(); return;
  }
  board[minimax(board, ai).index] = ai;
  render();
}

function render() {
  document.querySelectorAll(".cell").forEach((c,i)=>c.textContent = board[i]||"");
  const winner = checkWinner(board);
  if (winner) endGame(winner);
}

function checkWinner(b) {
  const wins = [
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
  ];
  for (let [a,c,d] of wins) {
    if (b[a] && b[a]===b[c] && b[a]===b[d]) return b[a];
  }
  return b.every(x=>x) ? "tie" : null;
}

function endGame(w) {
  if (w === human) {
    game.classList.add("hidden");
    final.classList.remove("hidden");
    final.scrollTop = 0;
    finalBtn.style.opacity = 0;
  } else {
    gameStatus.textContent = w==="tie" ? "A tie‚Ä¶ try again üòâ" : "I win üòå";
    retryBtn.classList.remove("hidden");
  }
}

function minimax(b, p) {
  const avail = b.map((v,i)=>v?null:i).filter(v=>v!==null);
  const w = checkWinner(b);
  if (w===human) return {score:-10};
  if (w===ai) return {score:10};
  if (!avail.length) return {score:0};

  const moves = [];
  for (let i of avail) {
    b[i]=p;
    moves.push({index:i, score:minimax(b, p===ai?human:ai).score});
    b[i]=null;
  }
  return p===ai
    ? moves.reduce((a,b)=>a.score>b.score?a:b)
    : moves.reduce((a,b)=>a.score<b.score?a:b);
}

/* Show button when user scrolls */
final.addEventListener("scroll", () => {
  const scrollable = final.scrollHeight - final.clientHeight;
  finalBtn.style.opacity = final.scrollTop > scrollable/3 ? 1 : 0;
});

/* Celebration: hearts + roses + fireworks */
function celebrateLove() {
  // Show "I LOVE YOU" text
  if (!document.getElementById("loveText")) {
    const text = document.createElement("div");
    text.id = "loveText";
    text.innerHTML = "I LOVE YOU ‚ù§Ô∏è";
    document.body.appendChild(text);
  }

  // Falling hearts & roses
  const emojis = ["‚ù§Ô∏è","üíñ","üíò","üåπ","üå∏"];
  let count = 0;
  const rain = setInterval(() => {
    const e = document.createElement("div");
    e.className = "fall";
    e.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    e.style.left = Math.random()*100+"vw";
    e.style.animationDuration = (2+Math.random()*3)+"s";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),5000);
    if (++count > 100) clearInterval(rain);
  },80);

  // Fireworks canvas
  startFireworks();
}

/* Fireworks canvas */
function startFireworks() {
  const canvas = document.getElementById("fireworkCanvas");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  const ctx = canvas.getContext("2d");
  const fireworks = [];

  function random(min,max){return Math.random()*(max-min)+min;}

  function Firework(x,y){
    this.x = x; this.y = y;
    this.particles = [];
    for(let i=0;i<60;i++){
      const angle = Math.random()*2*Math.PI;
      const speed = random(2,7);
      this.particles.push({
        x:x, y:y,
        vx: Math.cos(angle)*speed,
        vy: Math.sin(angle)*speed,
        alpha:1,
        color:`hsl(${Math.random()*360},100%,60%)`,
        radius: random(2,4)
      });
    }
  }

  // Generate multiple fireworks at random positions
  for(let i=0;i<5;i++){
    fireworks.push(new Firework(random(0,canvas.width), random(0,canvas.height/2)));
  }

  function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    for(let f of fireworks){
      for(let p of f.particles){
        p.x += p.vx;
        p.y += p.vy;
        p.alpha -= 0.02;
        ctx.globalAlpha = p.alpha;
        ctx.fillStyle = p.color;
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.radius,0,2*Math.PI);
        ctx.fill();
      }
    }
    ctx.globalAlpha = 1;
    requestAnimationFrame(animate);
  }
  animate();
}
</script>
</body>
</html>
